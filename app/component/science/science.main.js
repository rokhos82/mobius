////////////////////////////////////////////////////////////////////////////////////////////////////
// Mobius Science Main UI
////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////
// Science Component Controller
////////////////////////////////////////////////////////////////////////////////////////////////////
mobius.science.controller = function($scope,_data) {
  const $ctrl = this;

  $ctrl.stages = mobius.science.project.stages;

  $ctrl.welcome = "<p>Welcome to the science manager."

  $ctrl.data = {};

  $ctrl.events = _data.listEvents();

  $ctrl.projects = _data.listProjects();

  $ctrl.addProject = function(proj) {
    let project = new mobius.science.project(proj.name,"",proj.stage,proj.bonus);
    $ctrl.projects.push(project);
    _data.save();
  };

  $ctrl.updateProjects = function() {};

  $ctrl.clearProjects = function() {
    $ctrl.projects = _data.clearProjects();
    _data.save();
  };
};

////////////////////////////////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////////////////////////
mobius.app.component("scienceMain",{
	templateUrl: 'app/component/science/science.main.html',
	controller: ["$scope","mobius.science.data",mobius.science.controller],
	bindings: {}
});
